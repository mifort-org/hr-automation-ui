<div class="candidate-detail-container">
  <app-candidate-action></app-candidate-action>
  <div class="row">
    <div class="col-3 col-10-sm">
      <mat-card class="example-card">
        <mat-card-header>
          <mat-card-title>
            <span
              matBadge="0"
              matBadgePosition="after"
              matBadgeSize="small"
              [matBadgeColor]="(candidateDetailService.currentCandidate$ | async)?.status | status"
              class="hide-text"
              >{{
                (candidateDetailService.currentCandidate$ | async)?.customAttribute | fullname
              }}</span
            ></mat-card-title
          >
          <mat-card-subtitle>{{
            (candidateDetailService.currentCandidate$ | async)?.id
          }}</mat-card-subtitle>
        </mat-card-header>
        <div class="image-frame" mat-card-image>
          <img src="https://bootdey.com/img/Content/avatar/avatar1.png" />
        </div>
        <mat-card-content>
          <mat-chip-list>
            <mat-chip
              color="primary"
              *ngFor="let keyword of (candidateDetailService.currentCandidate$ | async)?.keywords"
              >{{ keyword?.id | titlecase }}</mat-chip
            >
          </mat-chip-list>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="col-7 col-10-sm">
      <mat-tab-group mat-align-tabs="start" class="mt-20 communication-tabs" animationDuration="0ms">
        <mat-tab label="Details info">
          <app-candidate-main-info
            [candidateAttributesValues]="candidateDetailService.candidateAttributes$ | async"
          ></app-candidate-main-info
        ></mat-tab>
        <mat-tab label="Communication History"
          ><app-candidate-communications
            [candidateHistory]="candidateDetailService.historyOfCurrentCandidate$ | async"
            [candidateId]="(candidateDetailService.currentCandidate$ | async)?.id || ''"
            (historyWasChanged)="candidateDetailService.fetchHistoryForCurrentCandidate()"
          ></app-candidate-communications
        ></mat-tab>
        <mat-tab label="Updates"><app-candidate-updates></app-candidate-updates></mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
